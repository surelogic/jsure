<?xml version="1.0" encoding="UTF-8"?>
<!-- This assumes that the build file is in the same directory as the project -->
<project name="test-ant" default="scan" basedir=".">
  <!-- 1. These are the definitions needed to run JSure.
  
          You need to change sl.home to match where you've 
          unzipped jsure-ant.zip
    -->
  <property name="sl.home" value="../.." />
  <property name="sl.lib" value="${sl.home}/lib" />
  <property name="project" value="SmallWorld"/>
  
  <!-- 2. Assumes that jsure-ant is unzipped in an Eclipse workspace 
          Change this if it is not
  -->
  <property name="datadir" value="${sl.home}/../.jsure-data"/>
  
  <path id="sl.classpath">
      <fileset dir="${sl.lib}" includes="**/*.jar"/>
  </path>

  <taskdef resource="com/surelogic/ant/jsure/ant.properties">
      <classpath refid="sl.classpath"/>
  </taskdef>
  
  <!-- 3. These are jars used to compile (and thus scan) SmallWorld 
      
          They are defined here to simplify the classpath property
          for the jsure-scan task below
  -->
  <property name="jdom.lib" value="${basedir}/jdom-1.0.jar"/>
  
  <!-- Sets the standard DSTAMP, TSTAMP, and TODAY properties -->
  <tstamp/>
  
	<target name="scan">	  	  	
	  
	  <!-- 4. Change the properties for the jsure-scan task to match your
	          Java project, in particular, srcdir, destdir, and classpath.
	  
	          Since jsure-scan uses many of the same properties as the javac task,
            you could copy these from an existing Ant build file.	     
            
            Note that the scan document is created in the current directory, 
            i.e. ${basedir}     
	  -->
	  <jsure-scan 
	       srcdir="${basedir}/src"
         destdir="${basedir}/bin"
         classpath="${jdom.lib}"
         source="1.5"
         home="${sl.home}"
	       datadir="${datadir}"
	       projectname="${project}">
      </jsure-scan>
	</target>
</project>