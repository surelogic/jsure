<?xml version="1.0" encoding="UTF-8"?>
<!-- This assumes that the build file is in the same directory as the project -->
<project name="test-ant" default="scan" basedir=".">
  <property name="project" value="SmallWorld"/>
    
  <!-- Definitions needed to set up the jsure-scan task ================================= -->
      
  <!-- 1. These are the definitions needed to run JSure.
  
  	      The following values assume that jsure-ant is unzipped next to your workspace:
  	      
  	        <dir>
  	          jsure-ant
  	          workspace
  	            .jsure-data
  	            SmallWorld
  	              test-build.xml
  
          If this is not true, you need to change sl.home to match where you've 
          unzipped jsure-ant.zip
    -->
  <property name="sl.home" value="../../jsure-ant" />
  
  <!-- 2. This assumes that SmallWorld is copied into your workspace (see above), 
          and that the JSure data directory is in the usual place in your workspace
          
          Change this if it is not
  -->
  <property name="datadir" value="../.jsure-data"/>
  
  <property name="sl.lib" value="${sl.home}/lib" />  
  
  <path id="sl.classpath">
      <fileset dir="${sl.lib}" includes="**/*.jar"/>
  </path>

  <taskdef resource="com/surelogic/ant/jsure/ant.properties">
      <classpath refid="sl.classpath"/>
  </taskdef>
  
  <!-- =================================================================================================== -->
  
  <!-- 3. These are jars used to compile (and thus scan) SmallWorld 
      
          They are defined here to simplify the classpath property
          for the jsure-scan task below
  -->
  <property name="jdom.lib" value="${basedir}/jdom-1.0.jar"/>
  
  <!-- Sets the standard DSTAMP, TSTAMP, and TODAY properties -->
  <tstamp/>
  
	<target name="scan">	  	  	
	  
	  <!-- 4. Change the properties for the jsure-scan task to match your
	          Java project, in particular, srcdir, destdir, and classpath.
	  
	          Since jsure-scan uses many of the same properties as the javac task,
            you could copy these from an existing Ant build file.	     
            
            Note that the scan document is created in the current directory, 
            i.e. ${basedir}     
	  -->
	  <jsure-scan 
	       srcdir="${basedir}/src"
         destdir="${basedir}/bin"
         classpath="${jdom.lib}"
         source="1.5"
         home="${sl.home}"
	       datadir="${datadir}"
	       projectname="${project}">
      </jsure-scan>
	</target>
</project>